#!/usr/bin/env ruby

def set_color rgb
  print "\x1b[38;5;#{rgb}m"
end

def reset_color
  print "\x1b[0m"
end

size  = 4
width = `tput cols`.to_i / size

(0..255).each.with_index{ |rgb, index|
  set_color rgb
  printf "%#{size}s", rgb
  printf "\n" if (index + 1) % width == 0
  reset_color
}
puts
